{% load templatetag_handlebars %}
{% load staticfiles %}
{% tplhandlebars "study-list-module-component" %}

<!-- BEGIN INNER PART -->
<li class="scout-list-item"  id="{{ spot.spot_id }}"  data-spot-lat="{{ spot.latitude }}" data-spot-lng="{{ spot.longitude }}" data-spot-building="BUILDING_NAME" data-spot-name="{{ spot.name }}">
    <!-- need to dynamically get campus name -->
    <a href="/h/{{ campus }}/study/{{ spot.spot_id }}/" class="item-link item-content">
        <div class="item-media">
            <!-- IF SPOT HAS IMAGE -->
            {{ #if spot.image_id }}
                <div class="scout-spot-image" style="background-image: url('/images/{{ spot.spot_id }}/image/{{ spot.image_id }}/?width=100'); width:80px; height:80px;">&nbsp;</div>
            {{ else }}
                <div class="scout-spot-image" style="background-image: url('{% static "scout/img/placeholder-200.png" %}'); width:80px; height:80px;">&nbsp;</div>
            {{ /if }}
            <!-- END IF -->
        </div>
        <div class="item-inner">
            <div class="item-title-row">
                <div class="item-title">{{ spot.name }}</div>
            </div>
            <div class="item-subtitle">
                <div style="white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">
                    <!-- IF SPOT HAS LOCATION_DESCRIPTION -->
                    {{ #if spot.location_description }}
                        {{ spot.location_description }}
                    {{ else }}
                        <span style="color:red;">missing location_description</span>
                    {{ /if }}
                    <!-- END IF -->
                </div>
            </div>
            <div class="item-text">
                <div style="text-transform:capitalize;">
                    <!-- LOOP OVER SPOT_TYPES -->
                    {{ #each spot.spot_types }}
                        {{ #if @first }}
                            <span>{{ this }}</span>
                        {{ else }}
                            <span>, {{ this }}</span>
                        {{ /if }}
                    {{ /each }}
                    <!-- END LOOP -->
                </div>
                <div style="font-size:12px;color:#000;">
                    <span class="scout-spot-distance"><span class="distance-number">---</span>&nbsp;mi&nbsp;&nbsp;</span>
                    <!-- IF SPOT HAS LABSTATS -->
                    {{ #if spot.auto_labstats_total }}
                        {{ #if spot.auto_labstats_available }}
                            <span style="float:right; color:#999;">
                                <i class="fa fa-desktop" aria-hidden="true"></i>
                                <span class="visually-hidden">Computer availability:</span>
                                <span class="scout-green">{{ spot.auto_labstats_available }}</span> / {{ spot.auto_labstats_total }}
                            </span>
                        {{ /if }}
                    {{ /if }}
                    <!--IF SPOT HAS CAPACITY -->
                    {{ #if spot.capacity }}
                        <span style="float:right; color:#999;">Seats: {{ spot.capacity }}</span>
                    {{ /if }}
                    <!-- END IF -->
                </div>
            </div>
        </div>
    </a>
</li>
<!-- END INNER PART -->

{% endtplhandlebars %}
